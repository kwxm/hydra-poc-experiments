<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><meta name="viewport" content="width=device-width, initial-scale=1" /><title>Hydra.OnChain.Util</title><link href="linuwial.css" rel="stylesheet" type="text/css" title="Linuwial" /><link rel="stylesheet" type="text/css" href="quick-jump.css" /><link rel="stylesheet" type="text/css" href="https://fonts.googleapis.com/css?family=PT+Sans:400,400i,700" /><script src="haddock-bundle.min.js" async="async" type="text/javascript"></script><script type="text/x-mathjax-config">MathJax.Hub.Config({ tex2jax: { processClass: "mathjax", ignoreClass: ".*" } });</script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js?config=TeX-AMS-MML_HTMLorMML" type="text/javascript"></script></head><body><div id="package-header"><span class="caption">hydra-plutus-0.4.0: Hydra Plutus Contracts</span><ul class="links" id="page-menu"><li><a href="index.html">Contents</a></li><li><a href="doc-index.html">Index</a></li></ul></div><div id="content"><div id="module-header"><table class="info"><tr><th>Safe Haskell</th><td>None</td></tr><tr><th>Language</th><td>Haskell98</td></tr></table><p class="caption">Hydra.OnChain.Util</p></div><div id="synopsis"><details id="syn"><summary>Synopsis</summary><ul class="details-toggle" data-details-id="syn"><li class="src short"><a href="#v:asDatum">asDatum</a> :: ToData a =&gt; a -&gt; Datum</li><li class="src short"><a href="#v:asRedeemer">asRedeemer</a> :: ToData a =&gt; a -&gt; Redeemer</li><li class="src short"><a href="#v:mustBeSignedByOneOf">mustBeSignedByOneOf</a> :: [PubKeyHash] -&gt; ScriptContext -&gt; <a href="file:///nix/store/k7x5pk0xwypn8m54076csq9c1sy75ahv-ghc-8.10.7-doc/share/doc/ghc/html/libraries/Cabal-3.2.1.0/Distribution-Compat-Prelude-Internal.html#t:Bool" title="Distribution.Compat.Prelude.Internal">Bool</a></li><li class="src short"><a href="#v:mustReimburse">mustReimburse</a> :: TxOut -&gt; ScriptContext -&gt; <a href="file:///nix/store/k7x5pk0xwypn8m54076csq9c1sy75ahv-ghc-8.10.7-doc/share/doc/ghc/html/libraries/Cabal-3.2.1.0/Distribution-Compat-Prelude-Internal.html#t:Bool" title="Distribution.Compat.Prelude.Internal">Bool</a></li><li class="src short"><a href="#v:mustRunContract">mustRunContract</a> :: <span class="keyword">forall</span> redeemer. ToData redeemer =&gt; ValidatorHash -&gt; redeemer -&gt; ScriptContext -&gt; <a href="file:///nix/store/k7x5pk0xwypn8m54076csq9c1sy75ahv-ghc-8.10.7-doc/share/doc/ghc/html/libraries/Cabal-3.2.1.0/Distribution-Compat-Prelude-Internal.html#t:Bool" title="Distribution.Compat.Prelude.Internal">Bool</a></li><li class="src short"><a href="#v:mustForwardParty">mustForwardParty</a> :: ScriptContext -&gt; MintingPolicyHash -&gt; PubKeyHash -&gt; <a href="file:///nix/store/k7x5pk0xwypn8m54076csq9c1sy75ahv-ghc-8.10.7-doc/share/doc/ghc/html/libraries/Cabal-3.2.1.0/Distribution-Compat-Prelude-Internal.html#t:Bool" title="Distribution.Compat.Prelude.Internal">Bool</a></li><li class="src short"><a href="#v:mustBurnParty">mustBurnParty</a> :: ScriptContext -&gt; MintingPolicyHash -&gt; PubKeyHash -&gt; <a href="file:///nix/store/k7x5pk0xwypn8m54076csq9c1sy75ahv-ghc-8.10.7-doc/share/doc/ghc/html/libraries/Cabal-3.2.1.0/Distribution-Compat-Prelude-Internal.html#t:Bool" title="Distribution.Compat.Prelude.Internal">Bool</a></li><li class="src short"><a href="#v:mkParty">mkParty</a> :: MintingPolicyHash -&gt; PubKeyHash -&gt; Value</li><li class="src short"><a href="#v:mkPartyName">mkPartyName</a> :: PubKeyHash -&gt; TokenName</li><li class="src short"><a href="#v:hasParty">hasParty</a> :: MintingPolicyHash -&gt; TxInInfo -&gt; <a href="file:///nix/store/k7x5pk0xwypn8m54076csq9c1sy75ahv-ghc-8.10.7-doc/share/doc/ghc/html/libraries/Cabal-3.2.1.0/Distribution-Compat-Prelude-Internal.html#t:Bool" title="Distribution.Compat.Prelude.Internal">Bool</a></li><li class="src short"><a href="#v:filterInputs">filterInputs</a> :: (TxInInfo -&gt; <a href="file:///nix/store/k7x5pk0xwypn8m54076csq9c1sy75ahv-ghc-8.10.7-doc/share/doc/ghc/html/libraries/Cabal-3.2.1.0/Distribution-Compat-Prelude-Internal.html#t:Bool" title="Distribution.Compat.Prelude.Internal">Bool</a>) -&gt; ScriptContext -&gt; [(TxOutRef, TxOut)]</li><li class="src short"><a href="#v:findUtxo">findUtxo</a> :: ScriptContext -&gt; TxOutRef -&gt; <a href="file:///nix/store/k7x5pk0xwypn8m54076csq9c1sy75ahv-ghc-8.10.7-doc/share/doc/ghc/html/libraries/Cabal-3.2.1.0/Distribution-Compat-Prelude-Internal.html#t:Maybe" title="Distribution.Compat.Prelude.Internal">Maybe</a> (TxOutRef, TxOut)</li><li class="src short"><a href="#v:findContractInput">findContractInput</a> :: ValidatorHash -&gt; ScriptContext -&gt; <a href="file:///nix/store/k7x5pk0xwypn8m54076csq9c1sy75ahv-ghc-8.10.7-doc/share/doc/ghc/html/libraries/Cabal-3.2.1.0/Distribution-Compat-Prelude-Internal.html#t:Maybe" title="Distribution.Compat.Prelude.Internal">Maybe</a> TxOutRef</li><li class="src short"><a href="#v:symbols">symbols</a> :: Value -&gt; [CurrencySymbol]</li></ul></details></div><div id="interface"><h1>Documentation</h1><div class="top"><p class="src"><a id="v:asDatum" class="def">asDatum</a> :: ToData a =&gt; a -&gt; Datum <a href="#v:asDatum" class="selflink">#</a></p><div class="doc"><p>This function can be rather unsafe and should *always* be used with a type
 annotation to avoid silly mistakes and hours of debugging.</p><p>So prefer:</p><pre class="screen"><code class="prompt">&gt;&gt;&gt; </code><strong class="userinput"><code>asDatum @(DatumType MyContract) val
</code></strong></pre><p>over</p><pre class="screen"><code class="prompt">&gt;&gt;&gt; </code><strong class="userinput"><code>asDatum val
</code></strong></pre><p>A <code>Datum</code> is an opaque type, and type information is lost when turning into a
 a <code>Data</code>. Hence, various functions of the Plutus Tx framework that rely on
 <code>Datum</code> or <code>Redeemer</code> are basically stringly-typed function with no guarantee
 whatsoever that the 'IsData a' being passed will correspond to what's
 expected by the underlying script. So, save you some hours of debugging and
 always explicitly specify the source type when using this function,
 preferably using the data-family from the <code>ValidatorTypes</code> instance.</p></div></div><div class="top"><p class="src"><a id="v:asRedeemer" class="def">asRedeemer</a> :: ToData a =&gt; a -&gt; Redeemer <a href="#v:asRedeemer" class="selflink">#</a></p><div class="doc"><p>Always use with explicit type-annotation, See warnings on <code><a href="Hydra-OnChain-Util.html#v:asDatum" title="Hydra.OnChain.Util">asDatum</a></code>.</p></div></div><div class="top"><p class="src"><a id="v:mustBeSignedByOneOf" class="def">mustBeSignedByOneOf</a> :: [PubKeyHash] -&gt; ScriptContext -&gt; <a href="file:///nix/store/k7x5pk0xwypn8m54076csq9c1sy75ahv-ghc-8.10.7-doc/share/doc/ghc/html/libraries/Cabal-3.2.1.0/Distribution-Compat-Prelude-Internal.html#t:Bool" title="Distribution.Compat.Prelude.Internal">Bool</a> <a href="#v:mustBeSignedByOneOf" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:mustReimburse" class="def">mustReimburse</a> :: TxOut -&gt; ScriptContext -&gt; <a href="file:///nix/store/k7x5pk0xwypn8m54076csq9c1sy75ahv-ghc-8.10.7-doc/share/doc/ghc/html/libraries/Cabal-3.2.1.0/Distribution-Compat-Prelude-Internal.html#t:Bool" title="Distribution.Compat.Prelude.Internal">Bool</a> <a href="#v:mustReimburse" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:mustRunContract" class="def">mustRunContract</a> :: <span class="keyword">forall</span> redeemer. ToData redeemer =&gt; ValidatorHash -&gt; redeemer -&gt; ScriptContext -&gt; <a href="file:///nix/store/k7x5pk0xwypn8m54076csq9c1sy75ahv-ghc-8.10.7-doc/share/doc/ghc/html/libraries/Cabal-3.2.1.0/Distribution-Compat-Prelude-Internal.html#t:Bool" title="Distribution.Compat.Prelude.Internal">Bool</a> <a href="#v:mustRunContract" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:mustForwardParty" class="def">mustForwardParty</a> :: ScriptContext -&gt; MintingPolicyHash -&gt; PubKeyHash -&gt; <a href="file:///nix/store/k7x5pk0xwypn8m54076csq9c1sy75ahv-ghc-8.10.7-doc/share/doc/ghc/html/libraries/Cabal-3.2.1.0/Distribution-Compat-Prelude-Internal.html#t:Bool" title="Distribution.Compat.Prelude.Internal">Bool</a> <a href="#v:mustForwardParty" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:mustBurnParty" class="def">mustBurnParty</a> :: ScriptContext -&gt; MintingPolicyHash -&gt; PubKeyHash -&gt; <a href="file:///nix/store/k7x5pk0xwypn8m54076csq9c1sy75ahv-ghc-8.10.7-doc/share/doc/ghc/html/libraries/Cabal-3.2.1.0/Distribution-Compat-Prelude-Internal.html#t:Bool" title="Distribution.Compat.Prelude.Internal">Bool</a> <a href="#v:mustBurnParty" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:mkParty" class="def">mkParty</a> :: MintingPolicyHash -&gt; PubKeyHash -&gt; Value <a href="#v:mkParty" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:mkPartyName" class="def">mkPartyName</a> :: PubKeyHash -&gt; TokenName <a href="#v:mkPartyName" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:hasParty" class="def">hasParty</a> :: MintingPolicyHash -&gt; TxInInfo -&gt; <a href="file:///nix/store/k7x5pk0xwypn8m54076csq9c1sy75ahv-ghc-8.10.7-doc/share/doc/ghc/html/libraries/Cabal-3.2.1.0/Distribution-Compat-Prelude-Internal.html#t:Bool" title="Distribution.Compat.Prelude.Internal">Bool</a> <a href="#v:hasParty" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:filterInputs" class="def">filterInputs</a> :: (TxInInfo -&gt; <a href="file:///nix/store/k7x5pk0xwypn8m54076csq9c1sy75ahv-ghc-8.10.7-doc/share/doc/ghc/html/libraries/Cabal-3.2.1.0/Distribution-Compat-Prelude-Internal.html#t:Bool" title="Distribution.Compat.Prelude.Internal">Bool</a>) -&gt; ScriptContext -&gt; [(TxOutRef, TxOut)] <a href="#v:filterInputs" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:findUtxo" class="def">findUtxo</a> :: ScriptContext -&gt; TxOutRef -&gt; <a href="file:///nix/store/k7x5pk0xwypn8m54076csq9c1sy75ahv-ghc-8.10.7-doc/share/doc/ghc/html/libraries/Cabal-3.2.1.0/Distribution-Compat-Prelude-Internal.html#t:Maybe" title="Distribution.Compat.Prelude.Internal">Maybe</a> (TxOutRef, TxOut) <a href="#v:findUtxo" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:findContractInput" class="def">findContractInput</a> :: ValidatorHash -&gt; ScriptContext -&gt; <a href="file:///nix/store/k7x5pk0xwypn8m54076csq9c1sy75ahv-ghc-8.10.7-doc/share/doc/ghc/html/libraries/Cabal-3.2.1.0/Distribution-Compat-Prelude-Internal.html#t:Maybe" title="Distribution.Compat.Prelude.Internal">Maybe</a> TxOutRef <a href="#v:findContractInput" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:symbols" class="def">symbols</a> :: Value -&gt; [CurrencySymbol] <a href="#v:symbols" class="selflink">#</a></p></div></div></div><div id="footer"><p>Produced by <a href="http://www.haskell.org/haddock/">Haddock</a> version 2.24.2</p></div></body></html>